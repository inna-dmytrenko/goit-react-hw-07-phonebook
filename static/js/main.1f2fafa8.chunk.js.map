{"version":3,"sources":["Components/Loader/Loader.styled.js","Components/Loader/Loader.js","Components/PhoneBookForm/PhoneBookForm.styled.js","redux/phoneBook-api.js","Components/PhoneBookForm/PhoneBookForm.jsx","Components/PhoneBook/PhoneBook.styled.js","Components/PhoneBook/PhoneBook.jsx","redux/filterReducer.js","Components/PhoneBookFilter/PhoneBookFilter.styled.js","Components/PhoneBookFilter/PhoneBookFilter.jsx","helpers/FilterContacts.jsx","Components/PhoneBookList/PhoneBookList.styled.js","Components/PhoneBookList/PhoneBookList.jsx","App.js","redux/store/index.js","index.js"],"names":["LoaderDiv","Spinner","type","color","height","width","Form","Input","Label","Button","App","phoneBookApi","createApi","reducerPath","tagTypes","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","getContacts","query","providesTags","addContact","mutation","contact","url","method","body","invalidatesTags","deleteContact","id","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","PhoneBookForm","formInitialState","name","number","email","data","useState","form","setForm","inputHandler","e","target","value","onSubmit","preventDefault","some","el","toast","htmlFor","required","placeholder","pattern","title","onChange","Frame","PhoneBook","onClick","handleFilter","createAction","filterReducer","createReducer","_","payload","Para","PhoneBookFilter","dispatch","useDispatch","event","filterContacts","contacts","filter","obj","toLowerCase","includes","trim","Container","Title","PhoneBookList","useSelector","state","error","isFetching","map","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f2fafa8.chunk.js","sourcesContent":["import styled from '@emotion/styled/macro'\r\n\r\nexport const LoaderDiv = styled.div`\r\n  margin-left: 50%;\r\n  margin-top: 20%;\r\n  cursor: progress;\r\n`\r\n","import Loader from 'react-loader-spinner'\r\nimport { LoaderDiv } from './Loader.styled'\r\nconst Spinner = () => (\r\n  <LoaderDiv>\r\n    <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n  </LoaderDiv>\r\n)\r\nexport default Spinner\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Form = styled.form`\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: block;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid white;\r\n  padding: 10px 15px;\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n`;\r\nexport const Label = styled.label`\r\n  line-height: 2;\r\n  text-align: left;\r\n  display: block;\r\n  margin-bottom: 13px;\r\n  margin-top: 20px;\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: 200;\r\n`;\r\nexport const Button = styled.button`\r\n  background: #ec5990;\r\n  color: white;\r\n  text-transform: uppercase;\r\n  border: none;\r\n  margin-top: 40px;\r\n  padding: 20px;\r\n  font-size: 16px;\r\n  font-weight: 100;\r\n  letter-spacing: 10px;\r\n  margin-left: 18%;\r\n\r\n  &:hover {\r\n    background: #bf1650;\r\n  }\r\n`;\r\nexport const App = styled.div`\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n`;\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const phoneBookApi = createApi({\r\n  reducerPath: 'PhoneBookApi',\r\n  tagTypes: ['contacts'],\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://6120bcf524d11c001762ed69.mockapi.io/api/v1/',\r\n  }),\r\n  endpoints: builder => ({\r\n    getContacts: builder.query({\r\n      query: () => '/contacts',\r\n      providesTags: ['contacts'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: contact => ({\r\n        url: '/contacts',\r\n        method: 'POST',\r\n        body: { ...contact },\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: id => ({\r\n        url: `/contacts/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n} = phoneBookApi;\r\n","import 'react-toastify/dist/ReactToastify.css'\r\nimport { toast, ToastContainer } from 'react-toastify'\r\nimport { useState } from 'react'\r\nimport './PhoneBookForm.styled.js'\r\nimport { Form, Input, Label, Button, App } from './PhoneBookForm.styled'\r\nimport {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n} from '../../redux/phoneBook-api'\r\nexport default function PhoneBookForm() {\r\n  const formInitialState = {\r\n    name: '',\r\n    number: '',\r\n    email: '',\r\n  }\r\n  const { data } = useGetContactsQuery()\r\n\r\n  const [addContact] = useAddContactMutation()\r\n\r\n  const [form, setForm] = useState(formInitialState)\r\n\r\n  const inputHandler = (e) => {\r\n    const name = e.target.name\r\n\r\n    const value = e.target.value\r\n    setForm({ ...form, [name]: value })\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (\r\n      data.some((el) => el.name === name) ||\r\n      data.some((el) => el.number === number) ||\r\n      data.some((el) => el.email === email)\r\n    ) {\r\n      setForm(formInitialState)\r\n      return toast(`${name} is already in contacts`)\r\n    }\r\n    addContact({ name, number, email })\r\n\r\n    setForm(formInitialState)\r\n  }\r\n  const { name, number, email } = form\r\n  return (\r\n    <App>\r\n      <Form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Label htmlFor=\"\">Name</Label>\r\n          <Input\r\n            required\r\n            placeholder=\"Search name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            onChange={inputHandler}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Label htmlFor=\"\">Number</Label>\r\n          <Input\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            value={number}\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            required\r\n            placeholder=\"Search number\"\r\n            onChange={inputHandler}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Label htmlFor=\"\">Email</Label>\r\n          <Input\r\n            placeholder=\"bluebill1049@hotmail.com\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={inputHandler}\r\n          />\r\n        </div>\r\n        <Button type=\"submit\">Add contact</Button>\r\n      </Form>\r\n      <ToastContainer />\r\n    </App>\r\n  )\r\n}\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Frame = styled.div`\r\n  padding: 10px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  border-radius: 10px;\r\n`;\r\n","import { BsTrashFill } from 'react-icons/bs'\r\nimport { Frame } from './PhoneBook.styled'\r\nimport { useDeleteContactMutation } from '../../redux/phoneBook-api'\r\n\r\nconst PhoneBook = ({ name, number, email, id }) => {\r\n  const [deleteContact] = useDeleteContactMutation()\r\n\r\n  return (\r\n    <Frame>\r\n      <p>{name}</p>\r\n      <p>{number}</p>\r\n      <p>{email}</p>\r\n      <span onClick={() => deleteContact(id)}>\r\n        <BsTrashFill />\r\n      </span>\r\n    </Frame>\r\n  )\r\n}\r\nexport default PhoneBook\r\n","import { createReducer, createAction } from '@reduxjs/toolkit';\r\n\r\nexport const handleFilter = createAction('phoneBook/filterContacts');\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [handleFilter]: (_, { payload }) => payload,\r\n});\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Input = styled.input`\r\n  display: block;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid white;\r\n  padding: 10px 15px;\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n`;\r\nexport const Label = styled.label`\r\n  line-height: 2;\r\n  text-align: left;\r\n  display: block;\r\n  margin-bottom: 13px;\r\n  margin-top: 20px;\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: 200;\r\n`;\r\nexport const Para = styled.p`\r\n  color: #041f0d;\r\n  font-size: 24px;\r\n`;\r\n","import { useDispatch } from 'react-redux'\r\nimport { handleFilter } from '../../redux/filterReducer'\r\nimport { Input, Label, Para } from './PhoneBookFilter.styled'\r\nimport { getFilter } from '../../redux/phoneBook-selector'\r\n\r\nfunction PhoneBookFilter() {\r\n  const dispatch = useDispatch()\r\n\r\n  const value = getFilter()\r\n\r\n  const change = (event) => {\r\n    const value = event.target.value\r\n\r\n    dispatch(handleFilter(value))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Label>\r\n        <Para>Filter contacts by name: </Para>\r\n        <Input\r\n          name=\"filter\"\r\n          onChange={change}\r\n          type=\"text\"\r\n          value={value}\r\n          placeholder=\"Name\"\r\n        />\r\n      </Label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PhoneBookFilter\r\n","function filterContacts(contacts, value) {\r\n  return contacts.filter(obj => {\r\n    return obj.name.toLowerCase().includes(value.toLowerCase().trim());\r\n  });\r\n}\r\nexport default filterContacts;\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Container = styled.div`\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n`;\r\nexport const Title = styled.h1`\r\n  font-weight: 100;\r\n  color: white;\r\n  text-align: center;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid rgb(2, 5, 12);\r\n`;\r\nexport const Input = styled.input`\r\n  display: block;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid white;\r\n  padding: 10px 15px;\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n`;\r\nexport const Label = styled.label`\r\n  line-height: 2;\r\n  text-align: left;\r\n  display: block;\r\n  margin-bottom: 13px;\r\n  margin-top: 20px;\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: 200;\r\n`;\r\n","import { useSelector } from 'react-redux'\r\n\r\nimport Spinner from '../Loader/Loader'\r\nimport PhoneBookForm from '../PhoneBookForm/PhoneBookForm'\r\nimport PhoneBook from '../PhoneBook/PhoneBook'\r\nimport PhoneBookFilter from '../PhoneBookFilter/PhoneBookFilter'\r\nimport filterContacts from '../../helpers/FilterContacts'\r\nimport { Container, Title } from './PhoneBookList.styled'\r\nimport { useGetContactsQuery } from '../../redux/phoneBook-api'\r\n\r\nconst PhoneBookList = () => {\r\n  const filter = useSelector((state) => state.filterReducer)\r\n\r\n  const { data, error, isFetching } = useGetContactsQuery({\r\n    // skip:\r\n  })\r\n\r\n  return (\r\n    <Container>\r\n      {/* <Spinner /> */}\r\n      <PhoneBookForm />\r\n      <Title>CONTACTS</Title>\r\n      {data && <PhoneBookFilter />}\r\n      <ul>\r\n        {error ? (\r\n          <>Oh no, there was an error</>\r\n        ) : isFetching ? (\r\n          <Spinner />\r\n        ) : data ? (\r\n          filterContacts(data, filter).map((contact) => (\r\n            <li key={contact.id}>\r\n              <PhoneBook {...contact} />\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <li>No contacts</li>\r\n        )}\r\n      </ul>\r\n    </Container>\r\n  )\r\n}\r\nexport default PhoneBookList\r\n","import './App.css';\r\nimport PhoneBookList from './Components/PhoneBookList/PhoneBookList.jsx';\r\n\r\nfunction App() {\r\n  return <PhoneBookList />;\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport { phoneBookApi } from '../phoneBook-api';\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query';\r\nimport { filterReducer } from '../filterReducer';\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [phoneBookApi.reducerPath]: phoneBookApi.reducer,\r\n    filterReducer,\r\n  },\r\n  middleware: getDefaultMiddleware => [\r\n    ...getDefaultMiddleware(),\r\n    phoneBookApi.middleware,\r\n  ],\r\n});\r\nsetupListeners(store.dispatch);\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\n// import { PersistGate } from 'reduxjs-toolkit-persist/integration/react';\r\nimport { store } from './redux/store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    \r\n      {/* <PersistGate loading={null} > */}\r\n      <App />\r\n      {/* </PersistGate> */}\r\n    \r\n  </Provider>,\r\n\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}